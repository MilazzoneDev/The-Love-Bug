package {	import flash.display.*;	import flash.events.*;	import flash.ui.*;		public class KeyboardManager extends MovieClip	{		private var _upKey		:Boolean = false;		private var _downKey	:Boolean = false;		private var _rightKey	:Boolean = false;		private var _leftKey	:Boolean = false;				public function KeyboardManager()		{			addEventListener(Event.ADDED_TO_STAGE, addedToStage);		}				// getters		public function get upKey()		:Boolean		{ return _upKey; 	}		public function get downKey()	:Boolean		{ return _downKey; 	}		public function get rightKey()	:Boolean		{ return _rightKey; }		public function get leftKey()	:Boolean		{ return _leftKey; 	}						private function addedToStage(evt:Event):void		{			// can't access stage events until we've been added to stage			stage.addEventListener(KeyboardEvent.KEY_DOWN, doKeyPress);			stage.addEventListener(KeyboardEvent.KEY_UP, doKeyRelease);		}				// these event handlers set Booleans		// the Booleans are checked in Document's frameloop		// where they are used to move in appropriate direction		public function doKeyPress(evt:KeyboardEvent)		{			if(evt.keyCode == Keyboard.UP) 			{ _upKey = true; 	}			else if(evt.keyCode == Keyboard.DOWN)	{ _downKey = true;	}			else if(evt.keyCode == Keyboard.RIGHT)	{ _rightKey = true;	}			else if(evt.keyCode == Keyboard.LEFT)	{ _leftKey = true; 	}		}				public function doKeyRelease(evt:KeyboardEvent)		{			if(evt.keyCode == Keyboard.UP)			{ _upKey = false;	}			else if(evt.keyCode == Keyboard.DOWN)	{ _downKey = false;	}			else if(evt.keyCode == Keyboard.RIGHT)	{ _rightKey = false;}			else if(evt.keyCode == Keyboard.LEFT)	{ _leftKey = false;	}		}			}}